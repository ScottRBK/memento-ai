description = "Configure Forgetful MCP server for Gemini CLI"
prompt = """
# Forgetful Setup

Configure the Forgetful semantic memory MCP server for Gemini CLI.

## Step 1: Check Existing Configuration

First, check if Forgetful is already configured:

```bash
gemini mcp list | grep -i forgetful
```

If already configured:
- Ask user if they want to reconfigure
- If no, exit with message: "Forgetful is already configured. Use `gemini mcp list` to see details."
- If yes, remove existing first: `gemini mcp remove forgetful`

## Step 2: Choose Setup Type

Ask the user which setup they prefer:

**Question**: "How would you like to configure Forgetful?"

**Options**:
1. **Standard (Recommended)** - Zero config, uses uvx to run Forgetful with SQLite storage. Perfect for most users.
2. **Custom** - For advanced setups: remote HTTP server, PostgreSQL, custom embeddings, authentication, etc.

## Step 3a: Standard Setup

If user chose Standard:

```bash
gemini mcp add forgetful uvx forgetful-ai
```

Confirm success:
```bash
gemini mcp list | grep -i forgetful
```

Report: "Forgetful is now configured! Your memories will persist in `~/.forgetful/` using SQLite."

## Step 3b: Custom Setup

If user chose Custom:

1. Fetch the configuration docs:
```
WebFetch: https://github.com/ScottRBK/forgetful/blob/main/docs/configuration.md
```

2. Ask what they need:
   - **Remote HTTP server** - Connect to Forgetful running elsewhere
   - **PostgreSQL backend** - Use Postgres instead of SQLite
   - **Custom embeddings** - Use different embedding model/provider
   - **Authentication** - API key or OAuth setup

3. Based on their answers, guide them through the relevant configuration options from the docs.

4. Build the appropriate command:

**For HTTP remote server:**
```bash
gemini mcp add -t http forgetful http://HOST:PORT/mcp
```

**For stdio with environment variables:**
```bash
# Gemini CLI doesn't support inline env vars in mcp add
# User needs to set environment variables before running gemini:
export DATABASE_URL=postgresql://user:pass@localhost:5432/forgetful
export EMBEDDING_PROVIDER=Google
gemini mcp add forgetful uvx forgetful-ai
```

5. Test the configuration:
```bash
gemini mcp list | grep -i forgetful
```

## Troubleshooting

If setup fails:
- Check if `uvx` is installed: `which uvx`
- For HTTP: verify the server is running and accessible
- Check Gemini CLI logs for MCP connection errors

## Notes

- SQLite database location: `~/.forgetful/forgetful.db`
- For full configuration reference: https://github.com/ScottRBK/forgetful/blob/main/docs/configuration.md
"""
